{"remainingRequest":"/Users/hongjoonkim/Desktop/Walton_final_project/application/front_end/node_modules/babel-loader/lib/index.js!/Users/hongjoonkim/Desktop/Walton_final_project/application/front_end/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/hongjoonkim/Desktop/Walton_final_project/application/front_end/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/hongjoonkim/Desktop/Walton_final_project/application/front_end/src/views/main/common/show-list.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/hongjoonkim/Desktop/Walton_final_project/application/front_end/src/views/main/common/show-list.vue","mtime":1574574536972},{"path":"/Users/hongjoonkim/Desktop/Walton_final_project/application/front_end/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hongjoonkim/Desktop/Walton_final_project/application/front_end/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/hongjoonkim/Desktop/Walton_final_project/application/front_end/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hongjoonkim/Desktop/Walton_final_project/application/front_end/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"/Users/hongjoonkim/Desktop/Walton_final_project/application/front_end/node_modules/@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport axios from 'axios';\nimport modal from \"./info-modal\";\nimport QRcodeModal from \"./qrcode-modal\";\nimport CommonService from \"../../../api/common/commonService\";\nimport $ from 'jquery';\nexport default {\n  components: {\n    'info-modal': modal,\n    'qr-code-modal': QRcodeModal\n  },\n  mounted: function () {\n    var _mounted = _asyncToGenerator(\n    /*#__PURE__*/\n    regeneratorRuntime.mark(function _callee() {\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return CommonService.getHistory();\n\n            case 2:\n              this.data = _context.sent;\n              _context.next = 5;\n              return this.meregRow();\n\n            case 5:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    function mounted() {\n      return _mounted.apply(this, arguments);\n    }\n\n    return mounted;\n  }(),\n  data: function data() {\n    return {\n      // data  : [\n      //     { \"key\": \"11222\", \"v11\": \"2019/09/24\", \"v12\": \"아라비카\", \"v13\": \"에티오피아\", \"v14\": \"2019/09/24\", \"v15\": \"1\", \"v16\": \"A\", \"v17\": \"2\", \"v18\": \"dd\", \"v19\": \"ddd\", \"v20\": \"sdfs\", \"v21\": \"sdfs\", \"v22\": \"sdsdf\", \"v23\": \"2\", \"v24\": \"2\", \"v25\": \"2\", \"v26\": \"2\", \"v27\": \"2\", \"v28\": \"2\", \"v29\": \"2\", \"v30\": \"2\", \"v31\": \"2\", \"v32\": \"2\", \"v33\": \"2\", \"v34\": \"2\", \"v35\": \"2\", \"v36\": \"2\", \"v37\": \"2\", \"v38\": \"2\", \"v39\": \"2\", \"v40\": \"2\" },\n      //     { \"key\": \"11223\", \"v11\": \"2019/09/24\", \"v12\": \"아라비카\", \"v13\": \"에티오피아\", \"v14\": \"2019/09/24\", \"v15\": \"1\", \"v16\": \"A\", \"v17\": \"2\", \"v18\": \"df\", \"v19\": \"sdf\", \"v20\": \"\", \"v21\": \"\", \"v22\": \"\", \"v23\": \"\", \"v24\": \"\", \"v25\": \"\", \"v26\": \"\", \"v27\": \"\", \"v28\": \"\", \"v29\": \"\", \"v30\": \"\", \"v31\": \"\", \"v32\": \"\", \"v33\": \"\", \"v34\": \"\", \"v35\": \"\", \"v36\": \"\", \"v37\": \"\", \"v38\": \"\", \"v39\": \"\", \"v40\": \"\" },\n      //     { \"key\": \"11228\", \"v11\": \"2019/09/24\", \"v12\": \"아라비카\", \"v13\": \"에티오피아\", \"v14\": \"2019/09/24\", \"v15\": \"1\", \"v16\": \"A\", \"v17\": \"2\", \"v18\": \"\", \"v19\": \"\", \"v20\": \"\", \"v21\": \"\", \"v22\": \"\", \"v23\": \"\", \"v24\": \"\", \"v25\": \"\", \"v26\": \"\", \"v27\": \"\", \"v28\": \"\", \"v29\": \"\", \"v30\": \"\", \"v31\": \"\", \"v32\": \"\", \"v33\": \"\", \"v34\": \"\", \"v35\": \"\", \"v36\": \"\", \"v37\": \"\", \"v38\": \"\", \"v39\": \"\", \"v40\": \"\" },\n      // ],\n      data: [],\n      modalData: {},\n      qrcodeData: [],\n      dataModalBtn: false,\n      qrCodeModalBtn: false\n    };\n  },\n  methods: {\n    openModal: function openModal(row) {\n      this.dataModalBtn = true;\n      this.modalData = row;\n    },\n    openQRCode: function openQRCode(event, row) {\n      // [1] row에 걸린 이벤트 제거\n      event.stopPropagation(); // [2] QR 코드 보여주기\n\n      this.qrCodeModalBtn = true;\n    },\n    openQRCodeinJquery: function openQRCodeinJquery(event, index) {\n      // [1] row에 걸린 이벤트 제거\n      event.stopPropagation();\n      var start = parseInt(this.data.length / 4);\n      var end = start + 3;\n      this.qrcodeData = this.data.slice(start - 1, end); // [2] QR 코드 보여주기\n\n      this.qrCodeModalBtn = true;\n    },\n    meregRow: function meregRow() {\n      // 엑셀 row 병합 함수 \n      $('.qr-code').each(function () {\n        var rows = $(\".qr-code[row-idx='\" + $(this).attr('row-idx') + \"']\");\n\n        if (rows.length > 1) {\n          rows.eq(0).attr(\"rowspan\", rows.length);\n          rows.not(\":eq(0)\").remove();\n        }\n      });\n    },\n    refresh: function () {\n      var _refresh = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee2() {\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return CommonService.getHistory();\n\n              case 2:\n                this.data = _context2.sent;\n                _context2.next = 5;\n                return this.meregRow();\n\n              case 5:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function refresh() {\n        return _refresh.apply(this, arguments);\n      }\n\n      return refresh;\n    }()\n  }\n};",{"version":3,"sources":["show-list.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgGA,OAAA,KAAA,MAAA,OAAA;AACA,OAAA,KAAA;AACA,OAAA,WAAA;AACA,OAAA,aAAA;AACA,OAAA,CAAA,MAAA,QAAA;AACA,eAAA;AACA,EAAA,UAAA,EAAA;AACA,kBAAA,KADA;AAEA,qBAAA;AAFA,GADA;AAKA,EAAA,OALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAMA,aAAA,CAAA,UAAA,EANA;;AAAA;AAMA,mBAAA,IANA;AAAA;AAAA,qBAOA,KAAA,QAAA,EAPA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AASA,EAAA,IATA,kBASA;AACA,WAAA;AACA;AACA;AACA;AACA;AACA;AACA,MAAA,IAAA,EAAA,EANA;AAOA,MAAA,SAAA,EAAA,EAPA;AAQA,MAAA,UAAA,EAAA,EARA;AASA,MAAA,YAAA,EAAA,KATA;AAUA,MAAA,cAAA,EAAA;AAVA,KAAA;AAYA,GAtBA;AAuBA,EAAA,OAAA,EAAA;AACA,IAAA,SADA,qBACA,GADA,EACA;AACA,WAAA,YAAA,GAAA,IAAA;AACA,WAAA,SAAA,GAAA,GAAA;AACA,KAJA;AAKA,IAAA,UALA,sBAKA,KALA,EAKA,GALA,EAKA;AAEA;AACA,MAAA,KAAA,CAAA,eAAA,GAHA,CAKA;;AACA,WAAA,cAAA,GAAA,IAAA;AACA,KAZA;AAaA,IAAA,kBAbA,8BAaA,KAbA,EAaA,KAbA,EAaA;AAEA;AACA,MAAA,KAAA,CAAA,eAAA;AAEA,UAAA,KAAA,GAAA,QAAA,CAAA,KAAA,IAAA,CAAA,MAAA,GAAA,CAAA,CAAA;AACA,UAAA,GAAA,GAAA,KAAA,GAAA,CAAA;AACA,WAAA,UAAA,GAAA,KAAA,IAAA,CAAA,KAAA,CAAA,KAAA,GAAA,CAAA,EAAA,GAAA,CAAA,CAPA,CASA;;AACA,WAAA,cAAA,GAAA,IAAA;AAEA,KAzBA;AA0BA,IAAA,QA1BA,sBA0BA;AACA;AACA,MAAA,CAAA,CAAA,UAAA,CAAA,CAAA,IAAA,CAAA,YAAA;AACA,YAAA,IAAA,GAAA,CAAA,CAAA,uBAAA,CAAA,CAAA,IAAA,CAAA,CAAA,IAAA,CAAA,SAAA,CAAA,GAAA,IAAA,CAAA;;AACA,YAAA,IAAA,CAAA,MAAA,GAAA,CAAA,EAAA;AACA,UAAA,IAAA,CAAA,EAAA,CAAA,CAAA,EAAA,IAAA,CAAA,SAAA,EAAA,IAAA,CAAA,MAAA;AACA,UAAA,IAAA,CAAA,GAAA,CAAA,QAAA,EAAA,MAAA;AACA;AACA,OANA;AAOA,KAnCA;AAoCA,IAAA,OApCA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAqCA,aAAA,CAAA,UAAA,EArCA;;AAAA;AAqCA,qBAAA,IArCA;AAAA;AAAA,uBAsCA,KAAA,QAAA,EAtCA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAvBA,CAAA","sourcesContent":["<template>\n    <section class=\"show-list\">\n        <div class=\"level\">\n            <h3 class=\"title\">\n                이력 조회\n                <b-button size=\"is-medium\"\n                    icon-right=\"refresh\" @click=\"refresh\">\n                    새로고침\n                </b-button>\n            </h3>\n            <span class=\"has-text-danger has-text-weight-bold is-size-6\"> * 패키징 되지 않은 원두는 QR코드가 제공되지 않습니다.</span>\n        </div>\n\n        <table class=\"table is-fullwidth\">\n            <thead>\n                <tr>\n                    <th class=\"has-text-centered\" style=\"width: 10%;\">커피 ID</th>  \n                    <th class=\"has-text-centered\" style=\"width: 15%;\">품종목록</th>\n                    <th class=\"has-text-centered\" style=\"width: 15%;\">산지</th>\n                    <th class=\"has-text-centered\" style=\"width: 20%;\">등록일자</th>\n                    <th class=\"has-text-centered\" style=\"width: 20%;\">QR코드</th>\n                </tr>     \n            </thead>\n            <tbody>\n\n                <tr v-for=\"(row, index) in data\" :key=\"row.key\" @click=\"openModal(row)\">\n                    <td>{{row.key}}</td>\n                    <td>{{row.v12}}</td>\n                    <td>{{row.v13}}</td>\n                    <td>{{row.v11}}</td>\n                    <td class=\"qr-code\" :row-idx=\"parseInt(index/4)\">\n                        <b-button icon-left=\"qrcode-scan\" @click.prevent=\"openQRCodeinJquery($event,index)\">보기</b-button>\n                    </td>\n                </tr>\n            </tbody>\n            \n        </table>\n\n        <!-- <b-table\n            :data=\"data\"\n            :striped=\"true\"\n            :hoverable=\"true\"\n            :mobile-cards=\"true\"\n            @click=\"openModal\">\n\n            <template slot-scope=\"props\">\n                <b-table-column field=\"key\" label=\"커피 ID\" width=\"200\">\n                    {{ props.row.key }}\n                </b-table-column>\n\n                <b-table-column field=\"v12\" label=\"품종목록\">\n                    {{ props.row.v12 }}\n                </b-table-column>\n\n                <b-table-column field=\"v13\" label=\"산지\">\n                    {{ props.row.v13 }}\n                </b-table-column>\n\n                <b-table-column field=\"v11\" label=\"등록일자\" centered>\n                    <span class=\"tag is-success\">\n                        {{ props.row.v11 }}\n                    </span>\n                </b-table-column>\n                \n                <b-table-column label=\"QR 코드\" class=\"qr-code\" :data-row-idx-by-4=\"parseInt(props.index/4)\">\n                    <span @click.prevent=\"openQRCode($event, props.row)\">\n                        <b-button icon-left=\"qrcode-scan\">보기</b-button>\n                    </span>\n                </b-table-column>\n            </template>\n\n            <template slot=\"empty\">\n                <section class=\"section\">\n                    <div class=\"content has-text-grey has-text-centered\">\n                        <p>\n                            <b-icon\n                                icon=\"emoticon-sad\"\n                                size=\"is-large\">\n                            </b-icon>\n                        </p>\n                        <p>데이터가 없습니다</p>\n                    </div>\n                </section>\n            </template>\n        </b-table> -->\n\n        <b-modal :active.sync=\"dataModalBtn\" has-modal-card>\n            <info-modal :rowData=modalData></info-modal>\n        </b-modal>\n\n        <b-modal :active.sync=\"qrCodeModalBtn\" has-modal-card>\n            <qr-code-modal :rowData=qrcodeData></qr-code-modal>\n        </b-modal>    \n    </section>\n</template>\n<script>\nimport axios   from 'axios'\nimport modal         from './info-modal'\nimport QRcodeModal   from './qrcode-modal'\nimport CommonService from '../../../api/common/commonService'\nimport $ from 'jquery'\nexport default {\n    components : { \n        'info-modal'    : modal,\n        'qr-code-modal' : QRcodeModal\n    },\n    async mounted() {\n        this.data =  await CommonService.getHistory();\n        await this.meregRow();\n    },\n    data() {\n        return {\n            // data  : [\n            //     { \"key\": \"11222\", \"v11\": \"2019/09/24\", \"v12\": \"아라비카\", \"v13\": \"에티오피아\", \"v14\": \"2019/09/24\", \"v15\": \"1\", \"v16\": \"A\", \"v17\": \"2\", \"v18\": \"dd\", \"v19\": \"ddd\", \"v20\": \"sdfs\", \"v21\": \"sdfs\", \"v22\": \"sdsdf\", \"v23\": \"2\", \"v24\": \"2\", \"v25\": \"2\", \"v26\": \"2\", \"v27\": \"2\", \"v28\": \"2\", \"v29\": \"2\", \"v30\": \"2\", \"v31\": \"2\", \"v32\": \"2\", \"v33\": \"2\", \"v34\": \"2\", \"v35\": \"2\", \"v36\": \"2\", \"v37\": \"2\", \"v38\": \"2\", \"v39\": \"2\", \"v40\": \"2\" },\n            //     { \"key\": \"11223\", \"v11\": \"2019/09/24\", \"v12\": \"아라비카\", \"v13\": \"에티오피아\", \"v14\": \"2019/09/24\", \"v15\": \"1\", \"v16\": \"A\", \"v17\": \"2\", \"v18\": \"df\", \"v19\": \"sdf\", \"v20\": \"\", \"v21\": \"\", \"v22\": \"\", \"v23\": \"\", \"v24\": \"\", \"v25\": \"\", \"v26\": \"\", \"v27\": \"\", \"v28\": \"\", \"v29\": \"\", \"v30\": \"\", \"v31\": \"\", \"v32\": \"\", \"v33\": \"\", \"v34\": \"\", \"v35\": \"\", \"v36\": \"\", \"v37\": \"\", \"v38\": \"\", \"v39\": \"\", \"v40\": \"\" },\n            //     { \"key\": \"11228\", \"v11\": \"2019/09/24\", \"v12\": \"아라비카\", \"v13\": \"에티오피아\", \"v14\": \"2019/09/24\", \"v15\": \"1\", \"v16\": \"A\", \"v17\": \"2\", \"v18\": \"\", \"v19\": \"\", \"v20\": \"\", \"v21\": \"\", \"v22\": \"\", \"v23\": \"\", \"v24\": \"\", \"v25\": \"\", \"v26\": \"\", \"v27\": \"\", \"v28\": \"\", \"v29\": \"\", \"v30\": \"\", \"v31\": \"\", \"v32\": \"\", \"v33\": \"\", \"v34\": \"\", \"v35\": \"\", \"v36\": \"\", \"v37\": \"\", \"v38\": \"\", \"v39\": \"\", \"v40\": \"\" },\n            // ],\n            data:[],\n            modalData : {},\n            qrcodeData : [],\n            dataModalBtn: false,\n            qrCodeModalBtn : false,\n        }\n    },\n    methods :{\n        openModal(row) {\n            this.dataModalBtn = true;\n            this.modalData = row;\n        },\n        openQRCode(event, row) {\n\n            // [1] row에 걸린 이벤트 제거\n            event.stopPropagation();\n\n            // [2] QR 코드 보여주기\n            this.qrCodeModalBtn = true;\n        },\n        openQRCodeinJquery(event ,index) {\n\n             // [1] row에 걸린 이벤트 제거\n            event.stopPropagation();\n            \n            const start = parseInt(this.data.length/4)\n            const end   = start + 3\n            this.qrcodeData = this.data.slice(start-1, end)\n\n            // [2] QR 코드 보여주기\n            this.qrCodeModalBtn = true;\n\n        },\n        meregRow() {\n            // 엑셀 row 병합 함수 \n            $('.qr-code').each(function() {\n                var rows = $(\".qr-code[row-idx='\" + $(this).attr('row-idx') + \"']\");\n                if (rows.length > 1) {\n                    rows.eq(0).attr(\"rowspan\", rows.length);\n                    rows.not(\":eq(0)\").remove();\n                }\n            })\n        },\n        async refresh() {\n            this.data = await CommonService.getHistory();\n            await this.meregRow()\n        },\n    }\n}\n</script>\n<style scoped>\ntable tr {\n    text-align: center;\n}\ntable tr td {\n    text-align: center;\n}\ntable tr th {\n    text-align: center;\n}\n</style>\n"],"sourceRoot":"src/views/main/common"}]}