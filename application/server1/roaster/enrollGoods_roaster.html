<!DOCTYPE html>
<html>

<head>
    <title>CreateKey Page</title>
</head>

<body>
    <h1>로스팅 업체 - 개인카페 1</h1>
    <hr />
    <form method="post">
        <table>
            <tr>
                <td><label>원두ID</label></td>
                <td><input type="text" name="key" /></td>
            </tr>

            <tr>
                <td><label></label>시간</td>
                <td><input type="text" name="value28" /></td>
            </tr>

            <h1>로스팅 단계 등록</h1>
            <tr>
                <td><label></label>로스팅 단계 (1-8단계)</td>
                <td><input type="text" name="value29" /></td>
            </tr>
        </table>
        <table>
            <h1>플레버 등록</h1>
            <tr>
                <td><label>fragrance(향)</label></td>
                <td><input type="text" name="fragrance" /></td>
            </tr>
            <tr>
                <td><label>balance(비율)</label></td>
                <td><input type="text" name="balance" /></td>
            </tr>
            <tr>
                <td><label>bitterness(신랄)</label></td>
                <td><input type="text" name="bitterness" /></td>
            </tr>
            <tr>
                <td><label>sweetess(달콤) </label></td>
                <td><input type="text" name="sweetess" /></td>
            </tr>
            <tr>
                <td><label>aftertaste(뒷맛)</label></td>
                <td><input type="text" name="aftertaste" /></td>
            </tr>
            <tr>
                <td><label>body(무게감)</label></td>
                <td><input type="text" name="body" /></td>
            </tr>
            <tr>
                <td><label>acidity(신맛)</label></td>
                <td><input type="text" name="acidity" /></td>
            </tr>
            <tr>
                <td><label>aroma(아로마)</label></td>
                <td><input type="text" name="aroma" /></td>
            </tr>
        </table>
        <input type="submit" name="" />
    </form>
    <br><br><br>
    <a href="/">로그아웃</a>
    <div id="chatLogs"></div>


    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
    <script src="/socket.io/socket.io.js"></script>
    <script>
        $(function () {
            // socket.io 서버에 접속한다
            var socket = io();
            var domain = new Array();

            // 서버로부터의 메시지가 수신되면
            socket.on("importer_enroll_seed1", function (data) {

                domain = JSON.parse(sessionStorage.getItem("domain"));

                if (domain == null) {
                    domain = [data];
                } else {
                    domain.push(data);
                }
                sessionStorage.setItem("domain", JSON.stringify(domain));
                $("#chatLogs").append("-------------------" + data.from + "   " + data.job + "-------------------" + "</strong></div><br>")
                    .append("원두 ID : " + data.key + "</strong></div><br>")
                    .append("BlockNumber : " + data.blockNumber + "</strong></div><br>")
                    .append("TransaciontID : " + data.transactionId + "</strong></div><br>")
                    .append("status : " + data.status + "</strong></div><br><br>");

            });
            socket.on("importer_enroll_seed2", function (data) {
                domain = JSON.parse(sessionStorage.getItem("domain"));

                if (domain == null) {
                    console.log(domain);
                    domain = [data];
                } else {
                    domain.push(data);
                }
                sessionStorage.setItem("domain", JSON.stringify(domain));
                $("#chatLogs").append("-------------------" + data.from + "   " + data.job + "-------------------" + "</strong></div><br>")
                    .append("원두ID : " + data.key + "</strong></div><br>")
                    .append("BlockNumber : " + data.blockNumber + "</strong></div><br>")
                    .append("TransaciontID : " + data.transactionId + "</strong></div><br>")
                    .append("status : " + data.status + "</strong></div><br><br>");

            });
            socket.on("container_enroll_seed1", function (data) {

                domain = JSON.parse(sessionStorage.getItem("domain"));

                if (domain == null) {
                    domain = [data];
                } else {
                    domain.push(data);
                }
                sessionStorage.setItem("domain", JSON.stringify(domain));
                $("#chatLogs").append("-------------------" + data.from + "   " + data.job + "-------------------" + "</strong></div><br>")
                    .append("원두ID : " + data.key + "</strong></div><br>")
                    .append("BlockNumber : " + data.blockNumber + "</strong></div><br>")
                    .append("TransaciontID : " + data.transactionId + "</strong></div><br>")
                    .append("status : " + data.status + "</strong></div><br><br>");

            });
            socket.on("container_enroll_seed2", function (data) {

                domain = JSON.parse(sessionStorage.getItem("domain"));

                if (domain == null) {
                    domain = [data];
                } else {
                    domain.push(data);
                }
                sessionStorage.setItem("domain", JSON.stringify(domain));
                $("#chatLogs").append("-------------------" + data.from + "   " + data.job + "-------------------" + "</strong></div><br>")
                    .append("원두ID : " + data.key + "</strong></div><br>")
                    .append("BlockNumber : " + data.blockNumber + "</strong></div><br>")
                    .append("TransaciontID : " + data.transactionId + "</strong></div><br>")
                    .append("status : " + data.status + "</strong></div><br><br>");

            });
            socket.on("Roast_enroll_seed1", function (data) {

                domain = JSON.parse(sessionStorage.getItem("domain"));

                if (domain == null) {
                    domain = [data];
                } else {
                    domain.push(data);
                }
                sessionStorage.setItem("domain", JSON.stringify(domain));
                $("#chatLogs").append("-------------------" + data.from + "   " + data.job + "-------------------" + "</strong></div><br>")
                    .append("원두ID : " + data.key + "</strong></div><br>")
                    .append("BlockNumber : " + data.blockNumber + "</strong></div><br>")
                    .append("TransaciontID : " + data.transactionId + "</strong></div><br>")
                    .append("status : " + data.status + "</strong></div><br><br>");

            });
            socket.on("Roast_enroll_seed2", function (data) {

                domain = JSON.parse(sessionStorage.getItem("domain"));

                if (domain == null) {
                    domain = [data];
                } else {
                    domain.push(data);
                }
                sessionStorage.setItem("domain", JSON.stringify(domain));
                $("#chatLogs").append("-------------------" + data.from + "   " + data.job + "-------------------" + "</strong></div><br>")
                    .append("원두ID : " + data.key + "</strong></div><br>")
                    .append("BlockNumber : " + data.blockNumber + "</strong></div><br>")
                    .append("TransaciontID : " + data.transactionId + "</strong></div><br>")
                    .append("status : " + data.status + "</strong></div><br><br>");

            });
            socket.on("Roast_enroll_seed3", function (data) {

                domain = JSON.parse(sessionStorage.getItem("domain"));

                if (domain == null) {
                    domain = [data];
                } else {
                    domain.push(data);
                }
                sessionStorage.setItem("domain", JSON.stringify(domain));
                $("#chatLogs").append("-------------------" + data.from + "   " + data.job + "-------------------" + "</strong></div><br>")
                    .append("원두ID : " + data.key + "</strong></div><br>")
                    .append("BlockNumber : " + data.blockNumber + "</strong></div><br>")
                    .append("TransaciontID : " + data.transactionId + "</strong></div><br>")
                    .append("status : " + data.status + "</strong></div><br><br>");

            });
            socket.on("Package_enroll_seed1", function (data) {

                domain = JSON.parse(sessionStorage.getItem("domain"));

                if (domain == null) {
                    domain = [data];
                } else {
                    domain.push(data);
                }
                sessionStorage.setItem("domain", JSON.stringify(domain));
                $("#chatLogs").append("-------------------" + data.from + "   " + data.job + "-------------------" + "</strong></div><br>")
                    .append("원두ID : " + data.key + "</strong></div><br>")
                    .append("BlockNumber : " + data.blockNumber + "</strong></div><br>")
                    .append("TransaciontID : " + data.transactionId + "</strong></div><br>")
                    .append("status : " + data.status + "</strong></div><br><br>");

            });

            socket.on("Package_enroll_seed2", function (data) {

                domain = JSON.parse(sessionStorage.getItem("domain"));

                if (domain == null) {
                    domain = [data];
                } else {
                    domain.push(data);
                }
                sessionStorage.setItem("domain", JSON.stringify(domain));
                $("#chatLogs").append("-------------------" + data.from + "   " + data.job + "-------------------" + "</strong></div><br>")
                    .append("원두ID : " + data.key + "</strong></div><br>")
                    .append("BlockNumber : " + data.blockNumber + "</strong></div><br>")
                    .append("TransaciontID : " + data.transactionId + "</strong></div><br>")
                    .append("status : " + data.status + "</strong></div><br><br>");

            });

            socket.on("Package_enroll_seed3", function (data) {

                domain = JSON.parse(sessionStorage.getItem("domain"));

                if (domain == null) {
                    domain = [data];
                } else {
                    domain.push(data);
                }
                sessionStorage.setItem("domain", JSON.stringify(domain));
                $("#chatLogs").append("-------------------" + data.from + "   " + data.job + "-------------------" + "</strong></div><br>")
                    .append("원두ID : " + data.key + "</strong></div><br>")
                    .append("BlockNumber : " + data.blockNumber + "</strong></div><br>")
                    .append("TransaciontID : " + data.transactionId + "</strong></div><br>")
                    .append("status : " + data.status + "</strong></div><br><br>");

            });

            domain = JSON.parse(sessionStorage.getItem("domain"));

            for (var i = 0; i < domain.length; i++) {
                $("#chatLogs").append("-------------------" + domain[i].from + "   " + domain[i].job + "-------------------" + "</strong></div><br>")
                    .append("원두ID : " + domain[i].key + "</strong></div><br>")
                    .append("BlockNumber : " + domain[i].blockNumber + "</strong></div><br>")
                    .append("TransaciontID : " + domain[i].transactionId + "</strong></div><br>")
                    .append("status : " + domain[i].status + "</strong></div><br><br>");
            }
        });
    </script>
</body>

</html>